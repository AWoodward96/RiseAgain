[gd_scene load_steps=20 format=4 uid="uid://dwdq8rmb2bu2f"]

[ext_resource type="Script" uid="uid://ko4rm7sjmvel" path="res://SCRIPTS/Maps/Map.gd" id="1_0jrnp"]
[ext_resource type="Resource" uid="uid://bq7bqj332iog3" path="res://RESOURCES/Maps/Objectives/rout.tres" id="2_iug5j"]
[ext_resource type="Script" uid="uid://efdtcy5i0nqy" path="res://SCRIPTS/Maps/Helpers/DebugSize.gd" id="5_nh711"]
[ext_resource type="TileSet" uid="uid://cw2y83vld1yn4" path="res://ART/Environment/_alpha_set0/terrain_basic_tileset_32.tres" id="6_4tnnt"]
[ext_resource type="TileSet" uid="uid://c2ke44okmibun" path="res://ART/Environment/_alpha_set0/terrain_basic_tileset.tres" id="7_obxwr"]
[ext_resource type="PackedScene" uid="uid://bptpxhjiocgis" path="res://RESOURCES/Helpers/starting_position_helper.tscn" id="8_hdvf7"]
[ext_resource type="Texture2D" uid="uid://38vjobqlehna" path="res://ART/Grid/s_ui.png" id="9_kg1b1"]
[ext_resource type="Script" uid="uid://cm1mt3kma32tb" path="res://SCRIPTS/Maps/Spawners/SpawnerBasic.gd" id="10_xchbf"]
[ext_resource type="Resource" uid="uid://7mx1nucm5v" path="res://RESOURCES/Units/Enemy/Zombie/UT_Zombie.tres" id="11_y58u3"]
[ext_resource type="Resource" uid="uid://be6wwr3ymjar2" path="res://RESOURCES/Maps/_alpha_Campaign00/AI/AI_Common.tres" id="14_xa562"]
[ext_resource type="Script" uid="uid://cx7hr1gnxldm5" path="res://SCRIPTS/Units/AI/AggroRange.gd" id="15_3hy5d"]
[ext_resource type="Script" uid="uid://di1yqkv0ulmb4" path="res://SCRIPTS/Units/AI/DelayedAggro.gd" id="18_7us7y"]
[ext_resource type="Script" uid="uid://cp4af6ps3pafs" path="res://SCRIPTS/Units/AI/AggroTypeBase.gd" id="18_v30af"]
[ext_resource type="Resource" uid="uid://dn1c0oywd1bik" path="res://RESOURCES/Units/Enemy/Roc/UT_Roc.tres" id="19_okiu4"]

[sub_resource type="Resource" id="Resource_0jrnp"]
script = ExtResource("18_v30af")
metadata/_custom_type_script = "uid://cp4af6ps3pafs"

[sub_resource type="Resource" id="Resource_iug5j"]
script = ExtResource("18_v30af")
metadata/_custom_type_script = "uid://cp4af6ps3pafs"

[sub_resource type="Resource" id="Resource_daxic"]
script = ExtResource("15_3hy5d")
TargetingFlags = 1
RangeOverride = 0
WeaponRangeAggros = true
DamageAggros = true
metadata/_custom_type_script = "uid://cx7hr1gnxldm5"

[sub_resource type="Resource" id="Resource_rl67q"]
script = ExtResource("18_7us7y")
TurnsToAggro = 2
TargetingFlags = 1
RangeOverride = 0
WeaponRangeAggros = true
DamageAggros = true
metadata/_custom_type_script = "uid://di1yqkv0ulmb4"

[sub_resource type="Resource" id="Resource_hx4mc"]
script = ExtResource("15_3hy5d")
TargetingFlags = 1
RangeOverride = 0
WeaponRangeAggros = true
DamageAggros = true
metadata/_custom_type_script = "uid://cx7hr1gnxldm5"

[node name="tutorial_a04_default" type="Node2D" node_paths=PackedStringArray("tilemap_bg", "tilemap_water", "tilemap_main", "tilemap_threat", "tilemap_fire", "tilemap_UI", "squadParent", "StartingPositionsParent", "SpawnersParent")]
script = ExtResource("1_0jrnp")
GridSize = Vector2i(21, 15)
CameraStart = Vector2(3, 3)
tilemap_bg = NodePath("BG")
tilemap_water = NodePath("Water")
tilemap_main = NodePath("Main")
tilemap_threat = NodePath("Threat")
tilemap_fire = NodePath("Fire")
tilemap_UI = NodePath("UI")
WinCondition = ExtResource("2_iug5j")
squadParent = NodePath("Squads")
StartingPositionsParent = NodePath("StartingPositions")
SpawnersParent = NodePath("Spawners")

[node name="DebugSize" type="Line2D" parent="." node_paths=PackedStringArray("map")]
points = PackedVector2Array(0, 0, 1344, 0, 1344, 960, 0, 960, 0, 0)
closed = true
default_color = Color(1, 0, 0, 1)
script = ExtResource("5_nh711")
map = NodePath("..")

[node name="Water" type="TileMapLayer" parent="."]
z_index = -6
scale = Vector2(2, 2)
tile_map_data = PackedByteArray("AAAAAA0AAQANAAwAAAAAAA4AAQANAAwAAAABAA0AAQANAAwAAAABAA4AAQANAAwAAAACAA0AAQANAAwAAAACAA4AAQANAAwAAAADAA4AAQANAAwAAAAEAA4AAQANAAwAAAAFAA4AAQANAAwAAAAGAA4AAQANAAwAAAAHAA4AAQANAAwAAAAIAA4AAQANAAwAAAAJAA4AAQANAAwAAAAKAA4AAQANAAwAAAALAA4AAQANAAwAAAAMAA4AAQANAAwAAAANAA4AAQANAAwAAAAOAA4AAQANAAwAAAAPAA0AAQANAAwAAAAPAA4AAQANAAwAAAAQAA0AAQANAAwAAAAQAA4AAQANAAwAAAARAA0AAQANAAwAAAARAA4AAQANAAwAAAASAAwAAQANAAwAAAASAA0AAQANAAwAAAASAA4AAQANAAwAAAAAAAsAAQANAAwAAAAAAAwAAQANAAwAAAABAAsAAQANAAwAAAABAAwAAQANAAwAAAACAAsAAQANAAwAAAACAAwAAQANAAwAAAADAAsAAQANAAwAAAADAAwAAQANAAwAAAAEAAsAAQANAAwAAAAEAAwAAQANAAwAAAADAA0AAQANAAwAAAAEAA0AAQANAAwAAAAFAAwAAQANAAwAAAAFAA0AAQANAAwAAAAGAAwAAQANAAwAAAAGAA0AAQANAAwAAAAHAAwAAQANAAwAAAAHAA0AAQANAAwAAAAIAAwAAQANAAwAAAAIAA0AAQANAAwAAAAJAAwAAQANAAwAAAAJAA0AAQANAAwAAAAKAAwAAQANAAwAAAAKAA0AAQANAAwAAAALAAwAAQANAAwAAAALAA0AAQANAAwAAAAMAAwAAQANAAwAAAAMAA0AAQANAAwAAAANAAwAAQANAAwAAAANAA0AAQANAAwAAAAOAAwAAQANAAwAAAAOAA0AAQANAAwAAAAPAAwAAQANAAwAAAAQAAwAAQANAAwAAAARAAsAAQANAAwAAAARAAwAAQANAAwAAAASAAsAAQANAAwAAAATAAsAAQANAAwAAAATAAwAAQANAAwAAAATAA0AAQANAAwAAAATAA4AAQANAAwAAAAUAAsAAQANAAwAAAAUAAwAAQANAAwAAAAUAA0AAQANAAwAAAAUAA4AAQANAAwAAAATAAkAAQANAAwAAAATAAoAAQANAAwAAAAUAAkAAQANAAwAAAAUAAoAAQANAAwAAAASAAoAAQANAAwAAAATAAQAAQANAAwAAAATAAUAAQANAAwAAAATAAYAAQANAAwAAAATAAcAAQANAAwAAAATAAgAAQANAAwAAAARAAAAAQANAAwAAAARAAEAAQANAAwAAAARAAIAAQANAAwAAAASAAAAAQANAAwAAAASAAEAAQANAAwAAAASAAIAAQANAAwAAAATAAAAAQANAAwAAAATAAEAAQANAAwAAAATAAIAAQANAAwAAAAUAAAAAQANAAwAAAAUAAEAAQANAAwAAAAUAAIAAQANAAwAAAASAAMAAQANAAwAAAATAAMAAQANAAwAAAAUAAMAAQANAAwAAAAUAAQAAQANAAwAAAAQAAIAAQANAAwAAAAAAAAAAQANAAwAAAAAAAEAAQANAAwAAAABAAAAAQANAAwAAAABAAEAAQANAAwAAAACAAAAAQANAAwAAAACAAEAAQANAAwAAAADAAAAAQANAAwAAAADAAEAAQANAAwAAAAEAAAAAQANAAwAAAAEAAEAAQANAAwAAAAFAAAAAQANAAwAAAAFAAEAAQANAAwAAAAGAAAAAQANAAwAAAAGAAEAAQANAAwAAAAHAAAAAQANAAwAAAAHAAEAAQANAAwAAAAIAAAAAQANAAwAAAAIAAEAAQANAAwAAAAJAAAAAQANAAwAAAAJAAEAAQANAAwAAAAKAAAAAQANAAwAAAAKAAEAAQANAAwAAAALAAAAAQANAAwAAAALAAEAAQANAAwAAAAMAAAAAQANAAwAAAAMAAEAAQANAAwAAAANAAAAAQANAAwAAAANAAEAAQANAAwAAAAOAAAAAQANAAwAAAAOAAEAAQANAAwAAAAPAAAAAQANAAwAAAAPAAEAAQANAAwAAAAQAAAAAQANAAwAAAAQAAEAAQANAAwAAAAAAAIAAQANAAwAAAABAAIAAQANAAwAAAACAAIAAQANAAwAAAADAAIAAQANAAwAAAAEAAIAAQANAAwAAAAAAAMAAQANAAwAAAABAAMAAQANAAwAAAASAAQAAQANAAwAAAASAAUAAQANAAwAAAASAAYAAQANAAwAAAASAAcAAQANAAwAAAASAAgAAQANAAwAAAASAAkAAQANAAwAAAARAAoAAQANAAwAAAAQAAsAAQANAAwAAAARAAMAAQANAAwAAAAPAAIAAQANAAwAAAADAAoAAQANAAwAAAACAAoAAQANAAwAAAABAAoAAQANAAwAAAAAAAoAAQANAAwAAAAMAAsAAQANAAwAAAAKAAIAAQANAAwAAAA=")
tile_set = ExtResource("6_4tnnt")

[node name="BG" type="TileMapLayer" parent="."]
z_index = -5
use_parent_material = true
scale = Vector2(2, 2)
tile_map_data = PackedByteArray("AAAEAAQAAQADAAIAAAAFAAQAAQAFAAIAAAAGAAQAAQAEAAIAAAAHAAUAAQADAAIAAAAIAAUAAQAEAAIAAAAJAAYAAQAFAAIAAAAKAAYAAQAFAAIAAAALAAcAAQAEAAEAAAANAAcAAQADAAEAAAANAAYAAQAEAAEAAAANAAUAAQAFAAIAAAANAAQAAQADAAIAAAANAAMAAQAEAAIAAAAMAAcAAQAEAAEAAAAMAAQAAQAFAAIAAAAMAAMAAQAFAAEAAAALAAQAAQAFAAEAAAALAAMAAQAQAAsAAAAKAAcAAQADAAIAAAAKAAUAAQAEAAIAAAAKAAQAAQADAAEAAAAJAAcAAQADAAEAAAAJAAUAAQAFAAEAAAAJAAQAAQAEAAIAAAAJAAMAAQANAAsAAAAIAAcAAQADAAEAAAAIAAYAAQAFAAIAAAAIAAQAAQAFAAEAAAAIAAMAAQAFAAEAAAAHAAcAAQADAAEAAAAHAAYAAQAEAAIAAAAHAAQAAQAFAAEAAAAHAAMAAQAFAAIAAAAGAAcAAQAFAAEAAAAGAAYAAQAEAAIAAAAGAAUAAQAEAAEAAAAGAAMAAQAEAAIAAAAFAAcAAQAFAAEAAAAFAAYAAQADAAEAAAAFAAUAAQAFAAIAAAAFAAMAAQAQAAsAAAAEAAcAAQAEAAIAAAAEAAYAAQAFAAIAAAAEAAUAAQAFAAEAAAADAAcAAQAFAAEAAAADAAYAAQAFAAIAAAADAAUAAQAEAAEAAAADAAQAAQAFAAEAAAACAAcAAQAEAAIAAAACAAYAAQAFAAEAAAACAAUAAQAFAAIAAAABAAcAAQAEAAEAAAABAAYAAQAFAAEAAAABAAUAAQADAAIAAAAAAAcAAQADAAIAAAAAAAYAAQAEAAEAAAAAAAUAAQAEAAEAAAAEAAoAAQAOAAoAAAAFAAoAAQAQAAgAAAAGAAoAAQAFAAEAAAAHAAoAAQADAAIAAAAIAAoAAQAEAAIAAAAJAAoAAQAEAAIAAAAKAAoAAQAEAAEAAAAPAA0AAQANAAwAAAAQAA0AAQANAAwAAAARAA0AAQANAAwAAAASAAwAAQANAAwAAAASAA0AAQANAAwAAAANAAkAAQAFAAEAAAANAAgAAQADAAIAAAAMAAkAAQAEAAIAAAAMAAgAAQAEAAIAAAALAAkAAQADAAIAAAALAAgAAQAEAAEAAAAKAAkAAQADAAIAAAAKAAgAAQAFAAEAAAAJAAkAAQAEAAEAAAAJAAgAAQAFAAIAAAAIAAkAAQAFAAIAAAAIAAgAAQADAAEAAAAHAAkAAQAEAAEAAAAHAAgAAQAEAAIAAAAGAAkAAQAEAAEAAAAGAAgAAQAEAAIAAAAFAAkAAQADAAIAAAAFAAgAAQAEAAIAAAAEAAkAAQAQAAgAAAAEAAgAAQAEAAIAAAALAAUAAQADAAIAAAALAAYAAQADAAIAAAAMAAUAAQADAAIAAAAMAAYAAQADAAEAAAAFAAsAAQAOAAoAAAAGAAsAAQAPAAgAAAAHAAsAAQAOAAgAAAAIAAsAAQAPAAgAAAAJAAsAAQAPAAgAAAAKAAsAAQAOAAgAAAAHAAIAAQAOAAsAAAAIAAIAAQAOAAsAAAAJAAIAAQAPAAkAAAAMAAIAAQAOAAsAAAANAAIAAQAPAAsAAAAFAAIAAQAOAAkAAAAGAAIAAQAOAAsAAAAEAAMAAQAPAAsAAAADAAMAAQAPAAsAAAACAAMAAQAOAAkAAAACAAQAAQAQAAsAAAAAAAQAAQAOAAsAAAABAAQAAQAOAAsAAAAUAAYAAQAQAAkAAAAUAAcAAQAQAAkAAAAUAAgAAQAOAAoAAAAUAAUAAQAOAAkAAAAOAAIAAQAPAAkAAAAOAAMAAQANAAsAAAAOAAQAAQAEAAEAAAAOAAUAAQAEAAIAAAAOAAYAAQAFAAEAAAAOAAcAAQAEAAEAAAAOAAgAAQADAAIAAAAOAAkAAQAEAAEAAAAOAAoAAQAFAAEAAAAOAAsAAQAPAAgAAAAPAAMAAQAOAAsAAAAPAAQAAQADAAEAAAAPAAUAAQAFAAEAAAAPAAYAAQAFAAIAAAAPAAcAAQAEAAIAAAAPAAgAAQAFAAIAAAAPAAkAAQAFAAIAAAAPAAoAAQANAAgAAAAPAAsAAQAPAAoAAAAQAAMAAQAPAAkAAAAQAAQAAQANAAsAAAAQAAUAAQAEAAEAAAAQAAYAAQAEAAEAAAAQAAcAAQAFAAEAAAAQAAgAAQAFAAIAAAAQAAkAAQANAAgAAAAQAAoAAQAPAAoAAAARAAQAAQAPAAkAAAARAAUAAQANAAkAAAARAAYAAQANAAkAAAARAAcAAQANAAkAAAARAAgAAQANAAkAAAARAAkAAQAPAAoAAAAAAAgAAQADAAEAAAAAAAkAAQAPAAgAAAABAAgAAQAEAAEAAAABAAkAAQAPAAgAAAACAAgAAQADAAEAAAACAAkAAQAPAAgAAAADAAgAAQADAAIAAAADAAkAAQAPAAgAAAALAAIAAQAOAAkAAAANAAoAAQAQAAgAAAANAAsAAQAOAAoAAAALAAoAAQANAAgAAAALAAsAAQAPAAoAAAAMAAoAAQAPAAgAAAAKAAMAAQAOAAsAAAA=")
tile_set = ExtResource("6_4tnnt")

[node name="Path" type="TileMapLayer" parent="."]
z_index = -5
use_parent_material = true
scale = Vector2(2, 2)
tile_set = ExtResource("6_4tnnt")

[node name="Main" type="TileMapLayer" parent="."]
z_index = -5
use_parent_material = true
scale = Vector2(2, 2)
tile_map_data = PackedByteArray("AAALAAUAAQAUAAMAAAALAAYAAQAUAAQAAAAMAAUAAQAVAAMAAAAMAAYAAQAVAAQAAAAHAAkAAQASAAMAAAAHAAoAAQASAAQAAAAIAAkAAQATAAMAAAAIAAoAAQATAAQAAAAEAAQAAQASAAEAAAAEAAUAAQASAAIAAAAFAAQAAQATAAEAAAAFAAUAAQATAAIAAAASAAYAAQASAAsAAAASAAcAAQASAAwAAAATAAYAAQATAAsAAAATAAcAAQATAAwAAAAUAAYAAQAUAAsAAAAUAAcAAQAUAAwAAAARAAYAAQARAAsAAAARAAcAAQARAAwAAAANAAYAAQAIAAIAAAANAAUAAQAJAAIAAAAAAAUAAQAJAAEAAAABAAUAAQAHAAIAAAACAAUAAQAHAAIAAAADAAUAAQAIAAIAAAADAAQAAQAIAAIAAAAGAAQAAQAIAAIAAAAIAAgAAQAJAAEAAAAJAAkAAQAIAAIAAAAGAAoAAQAHAAIAAAAKAAYAAQAIAAIAAAALAAQAAQAHAAEAAAAMAAcAAQAJAAEAAAA=")
tile_set = ExtResource("6_4tnnt")

[node name="Extra" type="TileMapLayer" parent="."]
z_index = -4
scale = Vector2(2, 2)
tile_set = ExtResource("6_4tnnt")

[node name="Threat" type="TileMapLayer" parent="."]
z_index = -2
use_parent_material = true
tile_set = ExtResource("7_obxwr")
navigation_enabled = false

[node name="Fire" type="TileMapLayer" parent="."]
z_index = -2
scale = Vector2(2, 2)
tile_set = ExtResource("6_4tnnt")

[node name="UI" type="TileMapLayer" parent="."]
z_index = -3
use_parent_material = true
tile_set = ExtResource("7_obxwr")

[node name="StartingPositions" type="Node2D" parent="."]
unique_name_in_owner = true

[node name="StartingPositionHelper" parent="StartingPositions" node_paths=PackedStringArray("map") instance=ExtResource("8_hdvf7")]
position = Vector2(256, 448)
Position = Vector2i(4, 7)
map = NodePath("../..")

[node name="StartingPositionHelper2" parent="StartingPositions" node_paths=PackedStringArray("map") instance=ExtResource("8_hdvf7")]
position = Vector2(320, 512)
Position = Vector2i(5, 8)
map = NodePath("../..")

[node name="StartingPositionHelper3" parent="StartingPositions" node_paths=PackedStringArray("map") instance=ExtResource("8_hdvf7")]
position = Vector2(192, 512)
Position = Vector2i(3, 8)
map = NodePath("../..")

[node name="StartingPositionHelper4" parent="StartingPositions" node_paths=PackedStringArray("map") instance=ExtResource("8_hdvf7")]
position = Vector2(192, 384)
Position = Vector2i(3, 6)
map = NodePath("../..")

[node name="Spawners" type="Node2D" parent="."]
unique_name_in_owner = true

[node name="Spawn_Zombie" type="Sprite2D" parent="Spawners"]
position = Vector2(448, 320)
texture = ExtResource("9_kg1b1")
centered = false
hframes = 4
vframes = 4
frame = 2
script = ExtResource("10_xchbf")
UnitToSpawn = ExtResource("11_y58u3")
UnitLevel = 1
DeltaLevel = -2
Position = Vector2i(7, 5)
AIBehavior = ExtResource("14_xa562")
AggroBehavior = SubResource("Resource_0jrnp")

[node name="Spawn_Zombie3" type="Sprite2D" parent="Spawners"]
position = Vector2(512, 384)
texture = ExtResource("9_kg1b1")
centered = false
hframes = 4
vframes = 4
frame = 2
script = ExtResource("10_xchbf")
UnitToSpawn = ExtResource("11_y58u3")
UnitLevel = 1
DeltaLevel = -2
Position = Vector2i(8, 6)
AIBehavior = ExtResource("14_xa562")
AggroBehavior = SubResource("Resource_iug5j")

[node name="Spawn_Zombie4" type="Sprite2D" parent="Spawners"]
position = Vector2(640, 576)
texture = ExtResource("9_kg1b1")
centered = false
hframes = 4
vframes = 4
frame = 2
script = ExtResource("10_xchbf")
UnitToSpawn = ExtResource("11_y58u3")
UnitLevel = 1
DeltaLevel = -2
Position = Vector2i(10, 9)
AIBehavior = ExtResource("14_xa562")
AggroBehavior = SubResource("Resource_daxic")

[node name="Spawn_Zombie5" type="Sprite2D" parent="Spawners"]
position = Vector2(704, 512)
texture = ExtResource("9_kg1b1")
centered = false
hframes = 4
vframes = 4
frame = 2
script = ExtResource("10_xchbf")
UnitToSpawn = ExtResource("11_y58u3")
UnitLevel = 1
DeltaLevel = -2
Position = Vector2i(11, 8)
AIBehavior = ExtResource("14_xa562")
AggroBehavior = SubResource("Resource_daxic")

[node name="Spawn_Roc" type="Sprite2D" parent="Spawners"]
position = Vector2(704, 256)
texture = ExtResource("9_kg1b1")
centered = false
hframes = 4
vframes = 4
frame = 2
script = ExtResource("10_xchbf")
UnitToSpawn = ExtResource("19_okiu4")
UnitLevel = 1
Position = Vector2i(11, 4)
AIBehavior = ExtResource("14_xa562")
AggroBehavior = SubResource("Resource_rl67q")

[node name="Spawn_Roc2" type="Sprite2D" parent="Spawners"]
position = Vector2(768, 320)
texture = ExtResource("9_kg1b1")
centered = false
hframes = 4
vframes = 4
frame = 2
script = ExtResource("10_xchbf")
UnitToSpawn = ExtResource("19_okiu4")
UnitLevel = 1
Position = Vector2i(12, 5)
AIBehavior = ExtResource("14_xa562")
AggroBehavior = SubResource("Resource_rl67q")

[node name="Spawn_Zombie2" type="Sprite2D" parent="Spawners"]
position = Vector2(960, 320)
texture = ExtResource("9_kg1b1")
centered = false
hframes = 4
vframes = 4
frame = 2
script = ExtResource("10_xchbf")
UnitToSpawn = ExtResource("11_y58u3")
UnitLevel = 1
Position = Vector2i(15, 5)
AIBehavior = ExtResource("14_xa562")
AggroBehavior = SubResource("Resource_hx4mc")

[node name="Spawn_Zombie6" type="Sprite2D" parent="Spawners"]
position = Vector2(1024, 384)
texture = ExtResource("9_kg1b1")
centered = false
hframes = 4
vframes = 4
frame = 2
script = ExtResource("10_xchbf")
UnitToSpawn = ExtResource("11_y58u3")
UnitLevel = 1
Position = Vector2i(16, 6)
AIBehavior = ExtResource("14_xa562")
AggroBehavior = SubResource("Resource_hx4mc")

[node name="Spawn_Zombie7" type="Sprite2D" parent="Spawners"]
position = Vector2(960, 448)
texture = ExtResource("9_kg1b1")
centered = false
hframes = 4
vframes = 4
frame = 2
script = ExtResource("10_xchbf")
UnitToSpawn = ExtResource("11_y58u3")
UnitLevel = 1
Position = Vector2i(15, 7)
AIBehavior = ExtResource("14_xa562")
AggroBehavior = SubResource("Resource_hx4mc")

[node name="Variants" type="Node2D" parent="."]

[node name="Squads" type="Node2D" parent="."]
