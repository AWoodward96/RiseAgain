[gd_scene load_steps=20 format=4 uid="uid://72w1kvoj27y6"]

[ext_resource type="Script" path="res://SCRIPTS/Maps/Map.gd" id="1_0q0au"]
[ext_resource type="Script" path="res://SCRIPTS/Maps/Objectives/ObjectiveRoute.gd" id="2_snc73"]
[ext_resource type="Script" path="res://SCRIPTS/Maps/Helpers/DebugSize.gd" id="3_xj1c6"]
[ext_resource type="TileSet" uid="uid://c2ke44okmibun" path="res://ART/Environment/_alpha_set0/terrain_basic_tileset.tres" id="4_axuya"]
[ext_resource type="PackedScene" uid="uid://bptpxhjiocgis" path="res://RESOURCES/Helpers/starting_position_helper.tscn" id="5_1tkba"]
[ext_resource type="Texture2D" uid="uid://38vjobqlehna" path="res://ART/Grid/s_ui.png" id="6_rydds"]
[ext_resource type="Script" path="res://SCRIPTS/Maps/Spawners/SpawnerBasic.gd" id="7_m6v06"]
[ext_resource type="Resource" uid="uid://7mx1nucm5v" path="res://RESOURCES/Units/Enemy/Zombie/UT_Zombie.tres" id="8_hvvig"]
[ext_resource type="Script" path="res://SCRIPTS/CombatEffects/CombatEffectTemplate.gd" id="9_qaupr"]
[ext_resource type="Resource" uid="uid://dk6nu2fomck5p" path="res://RESOURCES/CombatEffects/CE_NecromancerPassive.tres" id="10_g0d7c"]
[ext_resource type="Resource" uid="uid://be6wwr3ymjar2" path="res://RESOURCES/Maps/_alpha_Campaign00/AI/AI_Common.tres" id="11_m3n5o"]
[ext_resource type="Script" path="res://SCRIPTS/Units/AI/AggroRange.gd" id="12_oimew"]
[ext_resource type="Resource" uid="uid://dn1c0oywd1bik" path="res://RESOURCES/Units/Enemy/Roc/UT_Roc.tres" id="13_qih1l"]
[ext_resource type="Script" path="res://SCRIPTS/Units/AI/DelayedAggro.gd" id="14_6sg7n"]

[sub_resource type="Resource" id="Resource_vm3u1"]
script = ExtResource("2_snc73")
loc_description = ""

[sub_resource type="Resource" id="Resource_kpros"]
script = ExtResource("12_oimew")
TargetingFlags = 1
RangeOverride = 0
DamageAggros = true

[sub_resource type="Resource" id="Resource_ok065"]
script = ExtResource("14_6sg7n")
TurnsToAggro = 1

[sub_resource type="Resource" id="Resource_rk0ki"]
script = ExtResource("14_6sg7n")
TurnsToAggro = 1

[sub_resource type="Resource" id="Resource_fph27"]
script = ExtResource("12_oimew")
TargetingFlags = 1
RangeOverride = 0
DamageAggros = true

[node name="C1_Map03" type="Node2D" node_paths=PackedStringArray("tilemap_bg", "tilemap_main", "tilemap_threat", "tilemap_UI", "squadParent", "StartingPositionsParent", "SpawnersParent")]
script = ExtResource("1_0q0au")
GridSize = Vector2i(20, 18)
tilemap_bg = NodePath("BG_Layer")
tilemap_main = NodePath("Main_Layer")
tilemap_threat = NodePath("Threat_Layer")
tilemap_UI = NodePath("UI_Layer")
WinCondition = SubResource("Resource_vm3u1")
squadParent = NodePath("Squads")
StartingPositionsParent = NodePath("StartingPositions")
SpawnersParent = NodePath("Spawners")
metadata/_edit_vertical_guides_ = [-108.0]

[node name="DebugSize" type="Line2D" parent="." node_paths=PackedStringArray("map")]
points = PackedVector2Array(0, 0, 1280, 0, 1280, 1152, 0, 1152, 0, 0)
closed = true
default_color = Color(1, 0, 0, 1)
script = ExtResource("3_xj1c6")
map = NodePath("..")

[node name="BG_Layer" type="TileMapLayer" parent="."]
unique_name_in_owner = true
z_index = -5
use_parent_material = true
tile_map_data = PackedByteArray("AAAAAAQAAQAAAAAAAAAAAAUAAQAAAAAAAAAAAAYAAQAAAAAAAAAAAAcAAQAAAAAAAAAAAAgAAQAAAAAAAAAAAAkAAQAAAAAAAAABAAQAAQAAAAAAAAABAAUAAQAAAAAAAAABAAYAAQAAAAAAAAABAAcAAQAAAAAAAAABAAgAAQAAAAAAAAABAAkAAQAAAAAAAAACAAQAAQAAAAAAAAACAAUAAQAAAAAAAAADAAQAAQAAAAAAAAADAAUAAQAAAAAAAAAEAAQAAQAGAAUAAAAEAAUAAQAGAAUAAAAEAAgAAQAAAAAAAAAEAAkAAQAAAAAAAAAEAAoAAQAAAAAAAAAEAAsAAQAAAAAAAAAFAAQAAQAGAAUAAAAFAAUAAQAGAAUAAAAFAAYAAQAAAAAAAAAFAAcAAQAAAAAAAAAFAAgAAQAAAAAAAAAFAAkAAQAAAAAAAAAFAAoAAQAAAAAAAAAFAAsAAQAAAAAAAAAGAAQAAQAGAAUAAAAGAAUAAQAGAAUAAAAGAAYAAQAAAAAAAAAGAAcAAQAAAAAAAAAGAAgAAQAAAAAAAAAGAAkAAQAAAAAAAAAGAAoAAQAAAAAAAAAGAAsAAQAAAAAAAAAHAAQAAQAAAAAAAAAHAAUAAQAAAAAAAAAHAAYAAQAAAAAAAAAHAAcAAQAAAAAAAAAHAAgAAQAAAAAAAAAHAAkAAQAIAAAAAAAHAAoAAQAIAAAAAAAHAAsAAQAIAAAAAAAIAAQAAQAAAAAAAAAIAAUAAQAAAAAAAAAIAAYAAQAAAAAAAAAIAAcAAQAAAAAAAAAIAAgAAQAIAAAAAAAIAAkAAQAIAAAAAAAIAAoAAQAIAAAAAAAIAAsAAQAIAAAAAAAJAAQAAQAAAAAAAAAJAAUAAQAAAAAAAAAJAAYAAQAAAAAAAAAJAAcAAQAIAAAAAAAJAAgAAQAIAAAAAAAJAAkAAQAIAAAAAAAJAAoAAQAIAAAAAAAJAAsAAQAIAAAAAAAKAAQAAQAAAAAAAAAKAAUAAQAAAAAAAAAKAAYAAQAAAAAAAAAKAAcAAQAIAAAAAAAKAAgAAQAIAAAAAAAKAAkAAQAIAAAAAAAKAAoAAQAIAAAAAAAKAAsAAQAIAAAAAAALAAQAAQAAAAAAAAALAAUAAQAAAAAAAAALAAYAAQAAAAAAAAALAAcAAQAIAAAAAAALAAgAAQAIAAAAAAALAAkAAQAIAAAAAAALAAoAAQAIAAAAAAALAAsAAQAIAAAAAAAMAAMAAQAAAAAAAAAMAAQAAQAAAAAAAAAMAAUAAQAAAAAAAAAMAAYAAQAAAAAAAAAMAAcAAQAIAAAAAAAMAAgAAQAIAAAAAAAMAAkAAQAIAAAAAAAMAAoAAQAIAAAAAAAMAAsAAQAIAAAAAAANAP//AQAAAAAAAAANAAAAAQAAAAAAAAANAAEAAQAAAAAAAAANAAIAAQAAAAAAAAANAAMAAQAAAAAAAAANAAQAAQAAAAAAAAANAAUAAQAAAAAAAAANAAYAAQAAAAAAAAANAAcAAQAIAAAAAAANAAgAAQAIAAAAAAANAAkAAQAIAAAAAAANAAoAAQAIAAAAAAANAAsAAQAAAAAAAAAOAP//AQAAAAAAAAAOAAAAAQAAAAAAAAAOAAEAAQAAAAAAAAAOAAIAAQAAAAAAAAAOAAMAAQAAAAAAAAAOAAQAAQAAAAAAAAAOAAUAAQAAAAAAAAAOAAYAAQAAAAAAAAAOAAcAAQAAAAAAAAAOAAgAAQAAAAAAAAAOAAkAAQAAAAAAAAAOAAoAAQAAAAAAAAAOAAsAAQAAAAAAAAAPAP//AQAAAAAAAAAPAAAAAQAAAAAAAAAPAAEAAQAAAAAAAAAPAAIAAQAAAAAAAAAPAAMAAQAAAAAAAAAPAAQAAQAAAAAAAAAPAAUAAQAAAAAAAAAPAAYAAQAAAAAAAAAPAAcAAQAAAAAAAAAPAAgAAQAAAAAAAAAPAAkAAQAAAAAAAAAPAAoAAQAAAAAAAAAPAAsAAQAAAAAAAAAQAAMAAQAAAAAAAAAQAAQAAQAAAAAAAAAQAAUAAQAAAAAAAAAQAAYAAQAAAAAAAAAQAAcAAQAAAAAAAAAQAAgAAQAAAAAAAAAQAAkAAQAAAAAAAAAQAAoAAQAAAAAAAAAQAAsAAQAIAAAAAAARAAQAAQAAAAAAAAARAAUAAQAIAAAAAAARAAYAAQAIAAAAAAARAAcAAQAIAAAAAAARAAgAAQAIAAAAAAARAAkAAQAIAAAAAAARAAoAAQAIAAAAAAARAAsAAQAIAAAAAAASAAQAAQAIAAAAAAASAAUAAQAIAAAAAAASAAYAAQAIAAAAAAASAAcAAQAIAAAAAAASAAgAAQAIAAAAAAASAAkAAQAIAAAAAAASAAoAAQAIAAAAAAASAAsAAQAIAAAAAAATAAQAAQAIAAAAAAATAAUAAQAIAAAAAAATAAYAAQAIAAAAAAATAAcAAQAIAAAAAAATAAgAAQAIAAAAAAATAAkAAQAIAAAAAAATAAoAAQAIAAAAAAATAAsAAQAIAAAAAAAAABAAAQAAAAAAAAAAABEAAQAAAAAAAAABAA8AAQAAAAAAAAABABAAAQAAAAAAAAABABEAAQAAAAAAAAACAA4AAQAAAAAAAAACAA8AAQAAAAAAAAACABAAAQAAAAAAAAACABEAAQAAAAAAAAADAA0AAQAAAAAAAAADAA4AAQAAAAAAAAADAA8AAQAAAAAAAAADABAAAQAAAAAAAAADABEAAQAAAAAAAAAEAAwAAQAAAAAAAAAEAA0AAQAAAAAAAAAEAA4AAQAAAAAAAAAEAA8AAQAAAAAAAAAEABAAAQAAAAAAAAAEABEAAQAIAAAAAAAFAAwAAQAAAAAAAAAFAA0AAQAAAAAAAAAFAA4AAQAAAAAAAAAFAA8AAQAAAAAAAAAFABAAAQAIAAAAAAAFABEAAQAIAAAAAAAGAAwAAQAAAAAAAAAGAA0AAQAAAAAAAAAGAA4AAQAAAAAAAAAGAA8AAQAAAAAAAAAGABAAAQAIAAAAAAAGABEAAQAIAAAAAAAHAAwAAQAIAAAAAAAHAA0AAQAAAAAAAAAHAA4AAQAAAAAAAAAHAA8AAQAAAAAAAAAHABAAAQAIAAAAAAAHABEAAQAIAAAAAAAIAAwAAQAIAAAAAAAIAA0AAQAAAAAAAAAIAA4AAQAAAAAAAAAIAA8AAQAAAAAAAAAIABAAAQAIAAAAAAAIABEAAQAIAAAAAAAJAAwAAQAIAAAAAAAJAA0AAQAAAAAAAAAJAA4AAQAAAAAAAAAJAA8AAQAAAAAAAAAJABAAAQAIAAAAAAAJABEAAQAIAAAAAAAKAAwAAQAIAAAAAAAKAA0AAQAAAAAAAAAKAA4AAQAAAAAAAAAKAA8AAQAAAAAAAAAKABAAAQAIAAAAAAAKABEAAQAIAAAAAAALAAwAAQAIAAAAAAALAA0AAQAAAAAAAAALAA4AAQAAAAAAAAALAA8AAQAAAAAAAAALABAAAQAIAAAAAAALABEAAQAIAAAAAAAMAAwAAQAAAAAAAAAMAA0AAQAAAAAAAAAMAA4AAQAAAAAAAAAMAA8AAQAIAAAAAAAMABAAAQAIAAAAAAAMABEAAQAIAAAAAAANAAwAAQAAAAAAAAANAA0AAQAAAAAAAAANAA4AAQAAAAAAAAANAA8AAQAIAAAAAAANABAAAQAIAAAAAAANABEAAQAIAAAAAAAOAAwAAQAAAAAAAAAOAA0AAQAAAAAAAAAOAA4AAQAIAAAAAAAOAA8AAQAIAAAAAAAOABAAAQAIAAAAAAAOABEAAQAIAAAAAAAPAAwAAQAAAAAAAAAPAA0AAQAIAAAAAAAPAA4AAQAIAAAAAAAPAA8AAQAIAAAAAAAPABAAAQAIAAAAAAAPABEAAQAIAAAAAAAQAAwAAQAIAAAAAAAQAA0AAQAIAAAAAAAQAA4AAQAIAAAAAAAQAA8AAQAIAAAAAAAQABAAAQAIAAAAAAAQABEAAQAIAAAAAAARAAwAAQAIAAAAAAARAA0AAQAIAAAAAAARAA4AAQAIAAAAAAARAA8AAQAIAAAAAAARABAAAQAIAAAAAAARABEAAQAIAAAAAAASAAwAAQAIAAAAAAASAA0AAQAIAAAAAAASAA4AAQAIAAAAAAASAA8AAQAIAAAAAAASABAAAQAIAAAAAAASABEAAQAIAAAAAAATAAwAAQAIAAAAAAATAA0AAQAIAAAAAAATAA4AAQAIAAAAAAATAA8AAQAIAAAAAAATABAAAQAIAAAAAAATABEAAQAIAAAAAAA=")
tile_set = ExtResource("4_axuya")

[node name="Main_Layer" type="TileMapLayer" parent="."]
unique_name_in_owner = true
z_index = -5
use_parent_material = true
tile_map_data = PackedByteArray("AAARAAUAAQAJAAQAAAAEABEAAQAJAAQAAAAFAAQAAQANAAcAAAAFAAUAAQANAAgAAAAFAAYAAQAMAAYAAAAFAAcAAQALAAYAAAAFABAAAQAJAAQAAAAFABEAAQAJAAQAAAAGAAQAAQALAAYAAAAGAAYAAQANAAYAAAAGABAAAQAJAAQAAAAHABAAAQAJAAQAAAAIABAAAQAJAAQAAAAJABAAAQAJAAQAAAAKABAAAQAJAAQAAAALABAAAQAJAAQAAAAMAA8AAQAJAAQAAAAMABAAAQAJAAQAAAANAA8AAQAJAAQAAAAOAA4AAQAJAAQAAAAOAA8AAQAJAAQAAAAPAA0AAQAJAAQAAAAPAA4AAQAJAAQAAAAQAAsAAQAJAAQAAAAQAAwAAQAJAAQAAAAQAA0AAQAJAAQAAAARAAYAAQAJAAQAAAARAAcAAQAJAAQAAAARAAgAAQAJAAQAAAARAAkAAQAJAAQAAAARAAoAAQAJAAQAAAARAAsAAQAJAAQAAAASAAQAAQAJAAQAAAAHAA0AAQALAAYAAAAIAA0AAQALAAYAAAAGAAwAAQALAAYAAAAGAAsAAQALAAYAAAANAAsAAQALAAYAAAAMAAwAAQALAAYAAAALAAYAAQAMAAYAAAAMAAYAAQANAAYAAAAOAAcAAQANAAcAAAAOAAgAAQANAAgAAAAAAP//AQAJAAQAAAAAAAAAAQAJAAQAAAAAAAEAAQAJAAQAAAAAAAIAAQAJAAQAAAAAAAMAAQAJAAUAAAAAAAoAAQAJAAMAAAAAAAsAAQAJAAQAAAAAAAwAAQAJAAQAAAAAAA0AAQAJAAQAAAAAAA4AAQAOAAQAAAAAAA8AAQAKAAUAAAABAP//AQAJAAQAAAABAAAAAQAJAAQAAAABAAEAAQAJAAQAAAABAAIAAQAJAAQAAAABAAMAAQAJAAUAAAABAAoAAQAJAAMAAAABAAsAAQAJAAQAAAABAAwAAQAJAAQAAAABAA0AAQAOAAQAAAABAA4AAQAKAAUAAAACAP//AQAJAAQAAAACAAAAAQAJAAQAAAACAAEAAQAJAAQAAAACAAIAAQAJAAQAAAACAAMAAQAJAAUAAAACAAYAAQAIAAMAAAACAAcAAQAIAAQAAAACAAgAAQAIAAQAAAACAAkAAQAIAAQAAAACAAoAAQAPAAUAAAACAAsAAQAJAAQAAAACAAwAAQAOAAQAAAACAA0AAQAKAAUAAAADAP//AQAJAAQAAAADAAAAAQAJAAQAAAADAAEAAQAJAAQAAAADAAIAAQAJAAQAAAADAAMAAQAJAAUAAAADAAYAAQAJAAMAAAADAAcAAQAOAAQAAAADAAgAAQAKAAQAAAADAAkAAQAKAAQAAAADAAoAAQAKAAQAAAADAAsAAQAKAAQAAAADAAwAAQAKAAUAAAAEAP//AQAJAAQAAAAEAAAAAQAJAAQAAAAEAAEAAQAJAAQAAAAEAAIAAQAJAAQAAAAEAAMAAQAJAAUAAAAEAAYAAQAKAAMAAAAEAAcAAQAKAAUAAAAFAP//AQAJAAQAAAAFAAAAAQAJAAQAAAAFAAEAAQAJAAQAAAAFAAIAAQAJAAQAAAAFAAMAAQAJAAUAAAAGAP//AQAJAAQAAAAGAAAAAQAJAAQAAAAGAAEAAQAJAAQAAAAGAAIAAQAJAAQAAAAGAAMAAQAJAAUAAAAHAP//AQAJAAQAAAAHAAAAAQAJAAQAAAAHAAEAAQAJAAQAAAAHAAIAAQAJAAQAAAAHAAMAAQAJAAUAAAAIAP//AQAJAAQAAAAIAAAAAQAJAAQAAAAIAAEAAQAJAAQAAAAIAAIAAQAJAAQAAAAIAAMAAQAJAAUAAAAJAP//AQAJAAQAAAAJAAAAAQAJAAQAAAAJAAEAAQAJAAQAAAAJAAIAAQAJAAQAAAAJAAMAAQAJAAUAAAAKAP//AQAJAAQAAAAKAAAAAQAJAAQAAAAKAAEAAQAJAAQAAAAKAAIAAQAJAAQAAAAKAAMAAQAJAAUAAAALAP//AQAJAAQAAAALAAAAAQAJAAQAAAALAAEAAQAJAAQAAAALAAIAAQAOAAQAAAALAAMAAQAKAAUAAAAMAP//AQAKAAQAAAAMAAAAAQAKAAQAAAAMAAEAAQAKAAQAAAAMAAIAAQAKAAUAAAAQAP//AQAIAAQAAAAQAAAAAQAIAAQAAAAQAAEAAQAIAAQAAAAQAAIAAQAIAAUAAAARAP//AQAJAAQAAAARAAAAAQAJAAQAAAARAAEAAQAJAAQAAAARAAIAAQAJAAQAAAARAAMAAQAIAAUAAAASAP//AQAJAAQAAAASAAAAAQAJAAQAAAASAAEAAQAJAAQAAAASAAIAAQAJAAQAAAASAAMAAQAJAAUAAAATAP//AQAJAAQAAAATAAAAAQAJAAQAAAATAAEAAQAJAAQAAAATAAIAAQAJAAQAAAATAAMAAQAJAAUAAAAUAP//AQAJAAQAAAAUAAAAAQAJAAQAAAAUAAEAAQAJAAQAAAAUAAIAAQAJAAQAAAAUAAMAAQAJAAUAAAAVAP//AQAJAAQAAAAVAAAAAQAJAAQAAAAVAAEAAQAJAAQAAAAVAAIAAQAJAAQAAAAVAAMAAQAJAAUAAAA=")
tile_set = ExtResource("4_axuya")

[node name="Threat_Layer" type="TileMapLayer" parent="."]
unique_name_in_owner = true
use_parent_material = true
tile_set = ExtResource("4_axuya")
navigation_enabled = false

[node name="UI_Layer" type="TileMapLayer" parent="."]
unique_name_in_owner = true
z_index = -3
use_parent_material = true
tile_set = ExtResource("4_axuya")

[node name="StartingPositions" type="Node2D" parent="."]
unique_name_in_owner = true

[node name="StartingPositionHelper" parent="StartingPositions" node_paths=PackedStringArray("map") instance=ExtResource("5_1tkba")]
position = Vector2(192, 960)
Position = Vector2i(3, 15)
map = NodePath("../..")

[node name="StartingPositionHelper2" parent="StartingPositions" node_paths=PackedStringArray("map") instance=ExtResource("5_1tkba")]
position = Vector2(128, 960)
Position = Vector2i(2, 15)
map = NodePath("../..")

[node name="StartingPositionHelper4" parent="StartingPositions" node_paths=PackedStringArray("map") instance=ExtResource("5_1tkba")]
position = Vector2(192, 1024)
Position = Vector2i(3, 16)
map = NodePath("../..")

[node name="Spawners" type="Node2D" parent="."]
unique_name_in_owner = true

[node name="Spawn_Zombie" type="Sprite2D" parent="Spawners"]
position = Vector2(512, 320)
texture = ExtResource("6_rydds")
centered = false
hframes = 4
vframes = 4
frame = 2
script = ExtResource("7_m6v06")
UnitToSpawn = ExtResource("8_hvvig")
UnitLevel = 1
PreAppliedEffects = Array[ExtResource("9_qaupr")]([ExtResource("10_g0d7c")])
Position = Vector2i(8, 5)
AIBehavior = ExtResource("11_m3n5o")
AggroBehavior = SubResource("Resource_kpros")

[node name="Spawn_Roc" type="Sprite2D" parent="Spawners"]
position = Vector2(0, 448)
texture = ExtResource("6_rydds")
centered = false
hframes = 4
vframes = 4
frame = 2
script = ExtResource("7_m6v06")
UnitToSpawn = ExtResource("13_qih1l")
UnitLevel = 3
Position = Vector2i(0, 7)
AIBehavior = ExtResource("11_m3n5o")
AggroBehavior = SubResource("Resource_ok065")

[node name="Spawn_Roc2" type="Sprite2D" parent="Spawners"]
position = Vector2(64, 384)
texture = ExtResource("6_rydds")
centered = false
hframes = 4
vframes = 4
frame = 2
script = ExtResource("7_m6v06")
UnitToSpawn = ExtResource("13_qih1l")
UnitLevel = 3
Position = Vector2i(1, 6)
AIBehavior = ExtResource("11_m3n5o")
AggroBehavior = SubResource("Resource_rk0ki")

[node name="Spawn_Zombie3" type="Sprite2D" parent="Spawners"]
position = Vector2(960, 640)
texture = ExtResource("6_rydds")
centered = false
hframes = 4
vframes = 4
frame = 2
script = ExtResource("7_m6v06")
UnitToSpawn = ExtResource("8_hvvig")
UnitLevel = 3
Position = Vector2i(15, 10)
AIBehavior = ExtResource("11_m3n5o")
AggroBehavior = SubResource("Resource_fph27")

[node name="Variants" type="Node2D" parent="."]

[node name="Squads" type="Node2D" parent="."]
